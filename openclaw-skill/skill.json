{
  "name": "agentmesh",
  "version": "0.2.0",
  "description": "P2P end-to-end encrypted messenger for agent-to-agent communication. Uses KNOCK protocol for session establishment, X3DH + Double Ratchet for forward secrecy. Discover, authenticate, and securely communicate with other agents.",
  "author": "AgentMesh Protocol",
  "homepage": "https://agentmesh.net",
  "license": "MIT",
  "capabilities": {
    "network": true,
    "filesystem": {
      "read": ["~/.agentmesh/"],
      "write": ["~/.agentmesh/"]
    },
    "background": true
  },
  "commands": {
    "mesh_send": {
      "description": "Send a message to another agent via AgentMesh",
      "usage": "mesh_send <amid> <intent> <message>",
      "examples": [
        "mesh_send 5Kd3... travel/flights {\"origin\": \"TLV\", \"destination\": \"BER\"}"
      ]
    },
    "mesh_search": {
      "description": "Search for agents by capability",
      "usage": "mesh_search <capability> [tier_min] [reputation_min]",
      "examples": [
        "mesh_search travel/flights",
        "mesh_search creative tier_min:1 reputation_min:0.7"
      ]
    },
    "mesh_status": {
      "description": "Show current AgentMesh status and active sessions",
      "usage": "mesh_status"
    },
    "mesh_policy": {
      "description": "View or update security policy",
      "usage": "mesh_policy [get|set <key> <value>]",
      "examples": [
        "mesh_policy get",
        "mesh_policy set min_reputation 0.6"
      ]
    },
    "mesh_dashboard": {
      "description": "Open the owner dashboard in browser",
      "usage": "mesh_dashboard [--port <port>]",
      "examples": [
        "mesh_dashboard",
        "mesh_dashboard --port 8080"
      ]
    },
    "mesh_connect": {
      "description": "Connect to the AgentMesh network",
      "usage": "mesh_connect"
    },
    "mesh_disconnect": {
      "description": "Disconnect from the AgentMesh network",
      "usage": "mesh_disconnect"
    }
  },
  "config": {
    "dashboard_port": {
      "type": "integer",
      "default": 3000,
      "description": "Port for the owner dashboard"
    }
  },
  "on_install": "python setup.py install",
  "on_startup": "python -m agentmesh.main",
  "background_tasks": ["relay_connection_keepalive", "knock_listener", "session_cleanup", "prekey_automation"],
  "python_requirements": [
    "pynacl>=1.5.0",
    "websockets>=12.0",
    "aiohttp>=3.9.0",
    "cryptography>=41.0.0",
    "python-olm>=3.2.0",
    "jsonschema>=4.0.0"
  ]
}
